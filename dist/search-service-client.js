var t=e(t);function e(t){return t||{}}var n=t.exports={};n.internalCreateIfNotExists=e;var s,o,r=!1;var c=c||(r||(r=!0,s={},((o=o||{}).exports={}).getXMLHttpRequest=function(){if("undefined"!=typeof XMLHttpRequest)try{var t=new XMLHttpRequest;return t.status,t}catch(t){console.log("XMLHttpRequest not available: "+t)}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){console.log("XMLHttpRequest Msxml2.XMLHTTP.6.0 not available: "+t)}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){console.log("XMLHttpRequest Msxml2.XMLHTTP.3.0 not available: "+t)}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){console.log("XMLHttpRequest Microsoft.XMLHTTP not available: "+t)}throw new Error("This browser does not support XMLHttpRequest.")}),s);n.HttpSearchConfig=function(){function t(t,n,s){if(null==t)return null;var o,r=JSON.stringify(n),c=t;return c=e(c,"jsonSearchParameters",r),o=c,function(t,e){var n,s,o=Object.keys(t);for(n=0;n<o.length;n+=1)e(s=o[n],t[s])}(n,(function(t,n){o=e(o,t,n)})),c=o,s&&(console.log("template="+t),console.log("{{jsonSearchParameters}}="+r),console.log("resolved template="+c)),c}function e(t,e,n){var s,o,r=new RegExp("\\{\\{"+(s=e,o=new RegExp("([^-\\w])","gi"),s.replace(o,"\\$1")+"\\}\\}"),"gm");return t.replace(r,n)}return function(){this.config={searchUrlTemplate:"",searchMethod:"POST",searchContentType:"application/json",searchBodyTemplate:null,resolveSearchUrl:function(e){return t(this.searchUrlTemplate,e,this.debugMode)},resolveSearchBody:function(e){return t(this.searchBodyTemplate,e,this.debugMode)},httpRequest:null,debugMode:!1},this.searchUrlTemplate=function(t){return this.config.searchUrlTemplate=t,this},this.searchMethod=function(t){return this.config.searchMethod=t,this},this.searchContentType=function(t){return this.config.searchContentType=t,this},this.searchBodyTemplate=function(t){return this.config.searchBodyTemplate=t,this},this.httpRequest=function(t){return this.config.httpRequest=t,this},this.debugMode=function(t){return this.config.debugMode=!0===t,this},this.build=function(){return this.config.httpRequest||(this.config.httpRequest=c.getXMLHttpRequest()),new n.HttpClient(this.config)}}}(),n.HttpClient=function(t){this.config=t,this.search=function(t,e){return function(n,s){var o,r=function(t,e){console.error("search failed with status code "+e+": "+t)},c=t.resolveSearchUrl(n),i=t.resolveSearchBody(n),a={url:c,method:t.searchMethod,contentType:t.searchContentType,body:i};t.debugMode&&(o=s,s=function(t,e){console.log("successful search response with code "+e+": "+JSON.stringify(t,null,2)),o(t,e)}),function(t,e,n,s){e.onreadystatechange=function(){if(4===e.readyState)if(e.status>=200&&e.status<=299){var t=JSON.parse(e.responseText);n(t,e.status)}else s(e.responseText,e.status)},e.open(t.method,t.url,!0),e.setRequestHeader("Content-Type",t.contentType),e.send(t.body)}(a,e,s,r)}}(this.config,this.config.httpRequest)};
//# sourceMappingURL=search-service-client.js.map
